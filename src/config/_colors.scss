@import 'config/tokens';
@import 'config/fonts';
@import 'config/cdn';

$colors: map-get($tokens, 'colors');
$statuses: map-get($tokens, 'colorStatuses');
$combinations: map-get($tokens, 'colorCombinations');

// Variables
$navy: map-get($colors, navy);
$navy-70t: map-get($colors, 'navy-70t');
$navy-50t: map-get($colors, 'navy-50t');
$navy-30t: map-get($colors, 'navy-30t');

$blue: map-get($colors, blue);
$blue-70t: map-get($colors, 'blue-70t');
$blue-50t: map-get($colors, 'blue-50t');
$blue-30t: map-get($colors, 'blue-30t');

$red: map-get($colors, 'red');
$red-70t: map-get($colors, 'red-70t');
$red-50t: map-get($colors, 'red-50t');
$red-30t: map-get($colors, 'red-30t');

$grey: map-get($colors, grey);
$grey-70t: map-get($colors, 'grey-70t');
$grey-50t: map-get($colors, 'grey-50t');
$grey-30t: map-get($colors, 'grey-30t');
$grey-20t: map-get($colors, 'grey-20t');

$white: map-get($colors, white);
$white-70t: map-get($colors, 'white-70t');
$white-50t: map-get($colors, 'white-50t');
$white-30t: map-get($colors, 'white-30t');

$marigold: map-get($colors, marigold);
$marigold-70t: map-get($colors, 'marigold-70t');
$marigold-50t: map-get($colors, 'marigold-50t');
$marigold-30t: map-get($colors, 'marigold-30t');

$pink: map-get($colors, pink);
$pink-70t: map-get($colors, 'pink-70t');
$pink-50t: map-get($colors, 'pink-50t');
$pink-30t: map-get($colors, 'pink-30t');

$base-black: map-get($colors, 'base-black');
$base-white: map-get($colors, 'base-white');

// Mixins
@mixin combination($selector, $combination, $b, $smoothing: false) {
  // Get the namespace for the color (not the value)
  $color: map-get($combination, 'color');
  $headings: map-get($combination, 'headings');
  $background: map-get($combination, 'background-color');

  $hyperlinks: map-get($combination, 'hyperlinks');
  $visited: map-get($combination, 'visited');
  $hover: map-get($combination, 'hover');

  $input-border: map-get($combination, 'border');
  $input-placeholder: map-get($combination, 'placeholder');
  $input-background: map-get($combination, 'input-background');
  $focus: map-get($combination, 'focus');
  $checkbox-check: map-get($combination, 'checkbox-check');
  $select-arrow: map-get($combination, 'select-arrow');

  $error: map-get($combination, 'error');

  color: map-get($colors, $color);
  background-color: map-get($colors, $background);

  @if map-get($combination, 'font-weight') {
    font-weight: map-get($combination, 'font-weight');
  }

  @if $smoothing {
    @include font-smooth;
  }

  /**
   * Hyperlinks
   */

  a:not(.btn) {
    color: map-get($colors, $hyperlinks);

    &:visited {
      color: map-get($colors, $visited);
    }

    &:hover, &:active, &:focus, &.active {
      color: map-get($colors, $hover);
    }
  }

  /**
   * Inputs, Selects, Checkboxes
   */

  input:not(.error),
  textarea:not(.error),
  select:not(.error),
  .checkbox__label,
  .radio__label {
    border-color: map-get($colors, $input-border);
    background-color: map-get($colors, $input-background);

    &::placeholder {
      color: map-get($combination, 'placeholder');
    }
  }

  .select {
    background-image: url('#{$cdn}#{$path-to-svg}#{$select-arrow}');
  }

  .checkbox__label::before {
    background-color: map-get($colors, $input-background);
  }

  .radio__label:before,
  .checkbox__label::before {
    border-color: map-get($colors, $focus);
  }

  /**
   * Selected States for Checkboxes and Radios
   */

  input:checked + .checkbox__label::before {
    background-color: map-get($colors, $focus);
    background-image: url('#{$cdn}#{$path-to-svg}#{$checkbox-check}');
  }

  input:checked + .checkbox__label::before {
    box-shadow: inset 0 0 0 1.25px map-get($colors, $background), 0 0 0 2px map-get($colors, $focus);
  }

  input:checked + .radio__label::before {
    background-color: map-get($colors, $focus);
    box-shadow: inset 0 0 0 1.25px map-get($colors, $background), 0 0 0 2px map-get($colors, $focus);
  }

  /**
   * Focus State
   */

  .btn,
  .input > input:focus,
  .select:focus {
    outline: none;
    box-shadow: 0 0 0 1px rgba(255, 255, 255, 0),
                0 0 0 3px rgba(255, 255, 255, 0);
  }

  .btn:focus,
  .input > input:focus,
  .select:focus,
  input:focus + .checkbox__label,
  input:focus + .radio__label {
    box-shadow: 0 0 0 1px map-get($colors, $background),
                0 0 0 3px map-get($colors, $focus);
  }

  /**
   * Error State
   */

  .error > input,
  .error > select,
  .error > .checkbox__label,
  .error > .radio__label,
  .error > .checkbox__label::before,
  .error > .radio__label::before {
    border-color: map-get($colors, $error);
    color: map-get($colors, $error);
  }

  .error::after {
    color: map-get($colors, $error);
  }

  /**
   * Headings
   */

  h1, h4, h5, h6, .h1, .h4, .h5, .h6 {
    color: map-get($colors, $headings);
  }
}