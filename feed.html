<!DOCTYPE html><html class="text-size-0" lang="en"><head><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><meta content="width=device-width, initial-scale=1" name="viewport" /><!-- NYCO PATTERNS --><link href="styles/nyco-patterns-default.css" rel="stylesheet" /><!-- GLOBAL STYLES --><link href="https://www1.nyc.gov/assets/home/css/css-min/global.css" media="screen" rel="stylesheet" type="text/css" /><link href="https://www1.nyc.gov/assets/home/css/css-min/module.css" media="screen" rel="stylesheet" type="text/css" /><!-- PRINT STYLE --><link href="https://www1.nyc.gov/assets/home/css/print.css" media="print" rel="stylesheet" type="text/css" /><!-- PAGE SPECIFIC STYLES --><link href="https://www1.nyc.gov/assets/home/css/modules/status-updates-short.css" media="screen" rel="stylesheet" type="text/css" /><link href="https://www1.nyc.gov/assets/home/css/modules/status-updates-mini.css" media="screen" rel="stylesheet" type="text/css" /><link href="https://www1.nyc.gov/assets/home/css/includes/header-agencies.css" media="screen" rel="stylesheet" type="text/css" /><link href="https://www1.nyc.gov/assets/home/css/modules/news-panel.css" media="screen" rel="stylesheet" type="text/css" /><link href="https://www1.nyc.gov/assets/home/css/modules/agencies-about-links.css" media="screen" rel="stylesheet" type="text/css" /><link href="https://www1.nyc.gov/assets/home/css/modules/programs-and-initiatives.css" media="screen" rel="stylesheet" type="text/css" /><link href="https://www1.nyc.gov/assets/home/css/modules/homepage-hero.css" media="screen" rel="stylesheet" type="text/css" /><link href="https://www1.nyc.gov/assets/home/css/pages/agencies/index.css" media="screen" rel="stylesheet" type="text/css" /><link href="https://www1.nyc.gov/assets/opportunity/css/agency-styles.css" media="screen" rel="stylesheet" type="text/css" /><title>Medium Widget</title><noscript><style>body { visibility: visible !important; }</style></noscript><script type="text/javascript">function load() { document.body.style.visibility = 'visible' };</script></head></html><body class="bg-base-black" onload="load()" style="visibility: hidden;"><div aria-hidden="true" class="hidden"><?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs/><symbol id="icon-logo" viewBox="0 0 700 368.57"><g fill="currentColor"><path class="cls-1" d="M46.43 258.17c26.12 0 41 19.24 41 43.37s-14.92 43.37-41 43.37-41-19.24-41-43.37 14.88-43.37 41-43.37zm0 68.09c14 0 19.36-12.24 19.36-24.72s-5.36-24.72-19.36-24.72-19.36 12.24-19.36 24.72 5.37 24.73 19.36 24.73zM97.28 282.66h18.89v7h.23a19.08 19.08 0 0 1 16.67-8.74c19 0 27.05 16.21 27.05 33.35 0 15.74-8.39 30.67-25.54 30.67-7.35 0-13.18-2.8-17.26-8.28h-.23v26.82H97.28zm19.12 29.62c0 10.61 3 17.49 12 17.49 8.75 0 11.89-9.21 11.89-17.49 0-7.7-2.92-16.21-11.78-16.21-5.23 0-12.11 3.61-12.11 16.21zM169.58 282.66h18.89v7h.23a19.08 19.08 0 0 1 16.67-8.74c19 0 27.05 16.21 27.05 33.35 0 15.74-8.39 30.67-25.54 30.67-7.35 0-13.18-2.8-17.26-8.28h-.23v26.82h-19.81zm19.12 29.62c0 10.61 3 17.49 12 17.49 8.75 0 11.89-9.21 11.89-17.49 0-7.7-2.91-16.21-11.78-16.21-5.23 0-12.11 3.61-12.11 16.21zM270.8 280.91c18.77 0 31.95 13.88 31.95 32.06s-13.18 31.95-31.95 31.95S239 331.17 239 313s13-32.09 31.8-32.09zm0 48.85c9.33 0 12.13-9 12.13-16.79s-2.8-16.91-12.13-16.91-12 9.21-12 16.91 2.79 16.8 12 16.8zM309.75 282.66H329v10.61h.23c2.92-7.81 9.68-11.78 18.19-11.78a21.09 21.09 0 0 1 4.66.47V300a24.44 24.44 0 0 0-7.58-1.17c-9.79 0-14.92 6.76-14.92 14.34v30h-19.83zM399.89 295.49h-12.24V323c0 4.78 2.8 5.83 7.11 5.83 1.75 0 3.38-.23 5.13-.23v14.57c-3.61.12-7.23.58-10.84.58-16.91 0-21.22-5-21.22-21.34v-26.92h-10v-12.83h10v-18.31h19.82v18.31h12.24zM470.09 343.17h-19.24v-8.27h-.23c-3.73 6.18-11.43 10-18.42 10-17.37 0-22.39-10-22.39-25.88v-36.36h19.82v35.1c0 8 3.38 10.84 9.79 10.84 4.2 0 10.84-2.8 10.84-13.53v-32.41h19.82zM483.39 282.66h19.24v8.28h.23c3.73-6.18 11.78-10 19-10 20.17 0 21.8 14.69 21.8 23.44v38.83h-19.81v-35.36c0-5.83-2-10.61-9.91-10.61-7.46 0-10.73 6.41-10.73 12.94v33h-19.82zM576.21 275.08h-19.82v-15.16h19.82zm-19.82 7.58h19.82v60.51h-19.82zM626.7 295.49h-12.24V323c0 4.78 2.8 5.83 7.11 5.83 1.75 0 3.38-.23 5.13-.23v14.57c-3.61.12-7.23.58-10.84.58-16.91 0-21.22-5-21.22-21.34v-26.92h-10v-12.83h10v-18.31h19.82v18.31h12.24zM671.48 348.54c-4.66 13.29-12 14.92-25.3 14.92h-9.33v-16.09h6.88c4.55 0 7.93-2.57 7.93-6.76 0-3.26-3.85-12.59-5-15.86L631 282.66h21l11.43 39.41h.23l11.43-39.41h20.29zM681.15 102.59l14.4-13.6V47.7L652.36 6.42H508.37L465.19 47.7V20.18l-14.4-13.76h-57.6L378.8 20.18V47.7l-28.79 27.53-28.8-27.53V20.18l-14.4-13.76h-57.59l-14.4 13.76-14.41-13.76h-57.59l-14.39 13.76v55.05L76.44 6.42H18.85L4.45 20.18v192.67l14.4 13.76h57.59l14.39-13.76V157.8l71.99 68.81h57.59l14.41-13.76v-110.1l71.99 68.81v41.29l14.4 13.76h57.59l14.39-13.76v-41.29l72-68.81v82.57l43.18 41.29h143.99l43.19-41.29v-41.28l-14.4-13.78h-71.98v13.78h-57.59V88.99h57.59v13.6h71.98z"/></g></symbol></svg></div><header class="layout screen-tablet:flex"><div class="flex items-center justify-center bg-primary-blue text-base-white screen-tablet:w-64 p-3 screen-tablet:p-4"><h1 class="m-0 p-0"><span class="hidden">The Mayor's Office<br>for Economic Opportunity</span><svg aria-hidden="true" class="icon-logo text-base-white"><use xlink:href="#icon-logo"></use></svg></h1></div><div class="flex-1 flex flex-col content-center justify-center bg-primary-navy text-base-white links-invert p-3 screen-tablet:p-4"><h2 class="mt-0">Components and stylesheet extension for NYC.gov</h2><a href="#main-content">Skip to main content</a></div><div class="flex flex-col content-center justify-center bg-primary-navy text-base-white links-invert px-3 pb-3 screen-tablet:p-4"><h3 class="mr-3"><a class="border-2 border-base-white py-1 px-2 inline rounded-lg" href="https://github.com/CityOfNewYork/nyco-patterns/tree/v1.0.2">v1.0.2</a></h3></div></header><main class="layout screen-tablet:flex items-stretch m-0 p-0 min-h-screen" id="main-content"><aside class="bg-secondary-white py-2 px-3"><nav class="screen-tablet:pb-2"><a class="inline-block screen-tablet:block screen-tablet:border-b border-primary-blue-30t p-1 screen-tablet:p-2 pr-2" href="index">Home</a><a class="inline-block screen-tablet:block screen-tablet:border-b border-primary-blue-30t p-1 screen-tablet:p-2" href="https://github.com/CityOfNewYork/nyco-patterns/tree/v1.0.2">Github<span class="text-primary-blue-50t mx-1">1.0.2</span></a></nav><nav class="screen-tablet:pb-2"><span class="inline-block screen-tablet:block pb-1">Elements:</span><a class="inline-block screen-tablet:block screen-tablet:border-b border-primary-blue-30t p-1 screen-tablet:p-2" href="colors">Colors</a><a class="inline-block screen-tablet:block screen-tablet:border-b border-primary-blue-30t p-1 screen-tablet:p-2" href="icons">Icons</a><a class="inline-block screen-tablet:block screen-tablet:border-b border-primary-blue-30t p-1 screen-tablet:p-2" href="links">Links</a></nav><nav class="screen-tablet:pb-2"><span class="inline-block screen-tablet:block pb-1">Objects:</span><a class="inline-block screen-tablet:block screen-tablet:border-b border-primary-blue-30t p-1 screen-tablet:p-2" href="feed">Feed</a></nav><nav><span class="screen-tablet:block pb-1">References:</span><a class="inline-block screen-tablet:block screen-tablet:border-b border-primary-blue-30t p-1 screen-tablet:p-2" href="http://getbootstrap.com/2.3.2" rel="noindex nofollow" target="_blank">Bootstrap<span class="text-primary-blue-50t mx-1">2.3.2</span></a><a class="inline-block screen-tablet:block screen-tablet:border-b border-primary-blue-30t p-1 screen-tablet:p-2" href="https://tailwindcss.com" rel="noindex nofollow" target="_blank">Tailwind.css<span class="text-primary-blue-50t mx-1">0.5.2</span></a><a class="inline-block screen-tablet:block screen-tablet:border-b border-primary-blue-30t p-1 screen-tablet:p-2" href="http://www.nyc.gov/opportunity" rel="noindex nofollow" target="_blank">NYC Opportunity</a><a class="inline-block screen-tablet:block screen-tablet:border-b border-primary-blue-30t p-1 screen-tablet:p-2" href="https://blueprint.cityofnewyork.us" rel="noindex nofollow" target="_blank">NYC Digital Blueprint</a><a class="inline-block screen-tablet:block screen-tablet:border-b border-primary-blue-30t p-1 screen-tablet:p-2" href="https://www1.nyc.gov/assets/doitt/downloads/pdf/user_experience_design_public.pdf" rel="noindex nofollow" target="_blank">City Style Guide</a></nav></aside><article class="bg-base-white py-2 px-4 screen-desktop:px-6"><h1 class="m-0 p-0 mt-2">Feed</h1><section class="flex flex-col screen-desktop:flex-row flex-wrap pb-4"><div class="mt-4 max-w-full screen-desktop:w-1/2 screen-desktop:border-r border-secondary-white"><div class="screen-desktop:pr-4 screen-desktop:pr-6"><h2 id="about"><a href="#about">About</a></h2><p>The <b>Feed Object</b> can take any feed and display is as a widget anywhere on a page (<a href='#demonstration'>see the demonstration</a>). Currently, it's configured to work with Medium feeds. You can add combine multiple feed urls to display as many posts from different user profiles, publications, or tagged pages in publications. Refer to the <a href="https://help.medium.com/hc/en-us/articles/214874118-RSS-feeds">Medium RSS Feed Documentation</a> on available feeds.</p><h2 id="customize-your-feed"><a href="customize-your-feed">Customize your feed</a></h2><p>You can use <a href='customize-your-feed'>this form to customize your own feed</a> or you can follow the steps below to embed it manually.</p><h2 id="usage"><a href="#usage">Usage</a></h2><p>To use the feed, include the following scripts in your page:</p><p><div class="code-block"><pre><div>&lt;script src=&quot;https://cdn.polyfill.io/v2/polyfill.js?features=Promise&amp;gated=gated&quot; type=&quot;text/javascript&quot;&gt; <span class="code__comment">&lt;!-- The feed component uses Promises so this polyfill is needed for IE support --&gt;</span></div><div>&lt;script src=&quot;https://cdn.rawgit.com/CityOfNewYork/nyco-patterns/v1.0.1/dist/objects/feed/Feed.js&quot; type=&quot;text/javascript&quot;&gt;</div></pre></div></p><p>Optionally, but recommended, include the base styling for the feed:</p><p><div class="code-block"><pre><div>&lt;link src=&quot;https://cdn.rawgit.com/CityOfNewYork/nyco-patterns/v1.0.1/dist/objects/feed/feed.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;screen&quot;&gt;</div></pre></div></p><p>Then, add a container with the feed's id and the execution script with configuration parameters.</p><p><div class="code-block"><pre><div>&lt;div id=&quot;js-feed&quot;&gt;&lt;/div&gt;</div><div>&lt;script type=&quot;text/javascript&quot;&gt;</div><div>  new Feed({</div><div>    selector: &quot;#js-feed&quot;, <span class="code__comment">// The DOM element selctor for the feed. Defaults to #js-feed</span></div><div>    feed: &quot;https://medium.com/feed/@nycopportunity/&quot;, <span class="code__comment">// Required. The feed you want to display. May be an array of multiple feeds</span></div><div>  }).init();</div><div>&lt;/script&gt;</div></pre></div></p><p><code>new Feed({});</code> creates a feed, accepting a configuration object as a parameter. The object should contain the configuration you would like for the feed. Note: the <code>selector</code> and <code>feed</code> parameters are required to display a feed. <code>.init();</code> is a function that executes initialization of the feed and displays it. Below is a list of the rest of the default configuration options. See the <a href="https://help.medium.com/hc/en-us/articles/214874118-RSS-feeds">Medium RSS Feed Documentation</a> for more details on their feeds.</p><h2 id="configuration"><a href="#configuration">Configuration</a></h2><p>To change an option, add the desired variable to the configuration object above. Keep in mind they should be the same type (string or number) as they are listed below.</p><div class="mb-2"><div id="js-configuration"><div v-bind:id="name" v-for="item, name in config"><div class="mb-2" v-if=""><div class="code-block mb-1"><pre><div>{{ name }}</div><div class="code__comment">type: {{ typeof item }}</div><div class="code__comment" v-if="item != &quot;&quot;">default: {{ item }}</div></pre></div><ul v-if="typeof item === &quot;object&quot; &amp;&amp; typeof docs[name] !== &quot;string&quot;"><li v-bind:id="name + &quot;.&quot; + key" v-for="value, key in item"><p><code class="mr-1">{{ key }}</code>{{ docs[name][key] }}</p></li></ul><p v-if="typeof docs[name] === &quot;string&quot;">{{ docs[name] }}</p></div></div></div></div><h2 id="layouts"><a href="#layouts">Layouts</a></h2><p>In the bundled styles for this component there are three layouts for the Feed items: 1 column (default), 2 column, and 3 column. In order to utilize the 2 or 3 column layouts, configure the <code>classes.wrapper</code> parameter to <code>o-feed--3-column</code> for 3 columns and <code>o-feed--2-column</code> for 2 columns.</p><h2 id="templates"><a href="#templates">Templates</a></h2><p>The feed comes shipped with ready-to-use LoDash template components for Medium feeds. Each component can be overwritten with the <code>template.component</code> configuration parameter. You can copy the templates below to get started creating your own template and refer to the <a href="https://lodash.com/docs/4.17.5#template">LoDash documentation for templates</a>.</p><div class="mb-2"><code class="code">templates.opener</code></div><div class="mb-2"><div class="code-block"><pre><div class="code__comment">// The opening template tag or wrapper of the entire feed.</div><div>&lt;section class=&quot;o-feed &lt;%- settings.classes.wrapper %&gt;&quot; style=&quot;</div><div>  &lt;% if (settings.fontSize) { %&gt;font-size: &lt;%- settings.fontSize %&gt;;&lt;% } %&gt;</div><div>  &lt;% if (settings.color) { %&gt;color: &lt;%- settings.color %&gt;;&lt;% } %&gt;</div><div>&quot;&gt;</div></pre></div></div><div class="mb-2"><code class="code">templates.header</code></div><div class="mb-2"><div class="code-block"><pre><div class="code__comment">// The header template that sits at the top of the posts.</div><div>&lt;header class=&quot;o-feed__header &lt;%- settings.classes.header %&gt;&quot;&gt;</div><div>  &lt;div class=&quot;o-feed__avatar &lt;%- settings.classes.avatar %&gt;&quot;&gt;</div><div>    &lt;img src=&quot;</div><div>          &lt;% if (settings.profileImg !== &quot;&quot;) { %&gt;</div><div>            &lt;%- settings.profileImg %&gt;</div><div>          &lt;% } else { %&gt;</div><div>            &lt;%- feed.profileImg %&gt;</div><div>          &lt;% } %&gt;&quot; </div><div>         width=&quot;&lt;%- settings.ratioProfile[0] %&gt;&quot; </div><div>         height=&quot;&lt;%- settings.ratioProfile[1] %&gt;&quot;&gt;</div><div>  &lt;/div&gt;</div><div>  &lt;a class=&quot;o-feed__url &lt;%- settings.classes.avatar %&gt;&quot;</div><div>     href=&quot;&lt;%- feed.url %&gt;&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer nofollow&quot;&gt;</div><div>    &lt;% if (settings.title !== &quot;&quot;) { %&gt;</div><div>      &lt;%- settings.title %&gt;</div><div>    &lt;% } else { %&gt;</div><div>      &lt;%- feed.title %&gt;</div><div>    &lt;% } %&gt;</div><div>  &lt;/a&gt;</div><div>&lt;/header&gt;</div></pre></div></div><div class="mb-2"><code class="code">templates.posts</code></div><div class="mb-2"><div class="code-block"><pre><div class="code__comment">// The posts loop including the posts template.</div><div>&lt;% _each(items, function(post) { %&gt;</div><div>  &lt;div class=&quot;c-feed-item &lt;%- settings.classes.feedItem %&gt;&quot;&gt;</div><div>    &lt;h4 class=&quot;c-feed-item__title &lt;%- settings.classes.title %&gt;&quot;&gt;</div><div>      &lt;a class=&quot;c-feed-item__link &lt;%- settings.classes.link %&gt;&quot;</div><div>         href=&quot;&lt;%- post.guid %&gt;&quot;</div><div>         target=&quot;_blank&quot;</div><div>         rel=&quot;noopener noreferrer nofollow&quot;&gt;</div><div>        &lt;%- post.title %&gt;</div><div>      &lt;/a&gt;</div><div>    &lt;/h4&gt;</div><div>    &lt;span class=&quot;c-feed-item__date &lt;%- settings.classes.date %&gt;&quot; </div><div>          title=&quot;&lt;%- settings.postDateTitle %&gt;&quot;&gt;</div><div>      &lt;%- post.date %&gt;</div><div>    &lt;/span&gt;</div><div>    &lt;div class=&quot;c-feed-item__thumbnail &lt;%- settings.classes.thumbnail %&gt;&quot;&gt;</div><div>      &lt;img style=&quot;width: &lt;%- settings.ratioPostImg[0] %&gt;;max-height: &lt;%- settings.ratioPostImg[1] %&gt;;&quot; </div><div>           src=&quot;&lt;%- post.thumbnail %&gt;&quot;&gt;</div><div>    &lt;/div&gt;</div><div>    &lt;p class=&quot;c-feed-item__excerpt &lt;%- settings.classes.excerpt %&gt;&quot;&gt;</div><div>      &lt;%- post.excerpt %&gt;&lt;%- settings.postExcerptTrail %&gt;</div><div>    &lt;/p&gt;</div><div>    &lt;div class=&quot;c-feed-item__footer &lt;%- settings.classes.itemFooter %&gt;&quot;&gt;</div><div>      &lt;a class=&quot;c-feed-item__cta &lt;%- settings.classes.cta %&gt;&quot; </div><div>         href=&quot;&lt;%- post.guid %&gt;&quot; </div><div>         target=&quot;_blank&quot; </div><div>         rel=&quot;noopener noreferrer nofollow&quot;&gt;</div><div>        &lt;%- settings.postCtaText %&gt;</div><div>      &lt;/a&gt;</div><div>    &lt;/div&gt;</div><div>  &lt;/div&gt;</div><div>&lt;% }); %&gt;</div></pre></div></div><div class="mb-2"><code class="code">templates.closer</code></div><div class="mb-2"><div class="code-block"><pre><div class="code__comment">// The closing template tag or wrapper of the entire feed.</div><div>&lt;/section&gt;</div></pre></div></div><p>Here's an example of passing your own template to the configuration:</p><p><div class="code-block"><pre><div>var MyTemplate = {</div><div>  opener: &quot;&lt;div&gt;...template content...&lt;/div&gt;&quot;</div><div>  header: &quot;&lt;div&gt;...template content...&lt;/div&gt;&quot;</div><div>  posts: &quot;&lt;div&gt;...template content...&lt;/div&gt;&quot;</div><div>  closer: &quot;&lt;div&gt;...template content...&lt;/div&gt;&quot;</div><div>};</div><div>new Feed({</div><div>  selector: &quot;#feed&quot;, <span class="code__comment">// required</span></div><div>  feed: &quot;https://medium.com/feed/@nycopportunity/&quot;, <span class="code__comment">// required</span></div><div>  template: MyTemplate</div><div>}).init();</div></pre></div></p><p>Templates are passed the <code>config</code> object and whatever the response of the feed is. In Medium's case, they pass the <code>feed</code> parameter and posts within the <code>items</code> parameter in the response from their RSS feed. To see the data that gets passed to the template to use in your template, set the <code>log</code> configuration parameter to <code>true</code>. Open up the console to see the data for this particular feed demonstration.</p><h2 id="rss-to-json"><a href="#rss-to-json">RSS to JSON</a></h2><p>The <b>Feed Object</b> uses an API from <a href="https://rss2json.com">https://rss2json.com</a> to convert desired RSS feed into a consumable JSON object. See the <a href="https://rss2json.com">RSS 2 JSON Online Converter</a> documentation for details.</p></div></div><div class="mt-4 max-w-full screen-desktop:max-w-1/2"><div class="screen-desktop:pl-4 screen-desktop:pl-6"><h2 id="demonstration"><a href="#demonstration">Demonstration</a></h2><div class="border-8 p-4 border-secondary-white"><div id="js-feed"></div></div></div></div></section></article></main><footer class="py-6 text-center text-base-white links-invert"><p class="m-0">Maintained by <a href='https://github.com/orgs/CityOfNewYork/teams/nycopportunity'>@CityOfNewYork/NYCOpportunity</a> on GitHub.</p></footer><script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script><script src="https://cdn.polyfill.io/v2/polyfill.js?features=Object.assign&amp;flags=gated"></script><script src="objects/feed/FeedDocs.js"></script><script type="text/javascript">var production = {
  polyfill: 'https://cdn.polyfill.io/v2/polyfill.js?features=Promise&flags=gated',
  module: 'https://cdn.rawgit.com/CityOfNewYork/nyco-patterns/v1.0.2/dist/objects/feed/Feed.js',
  styles: 'https://cdn.rawgit.com/CityOfNewYork/nyco-patterns/v1.0.2/dist/objects/feed/feed.css'
};

var demonstration = {
  polyfill: production.polyfill,
  module: 'objects/feed/Feed.js',
  styles: 'objects/feed/feed.css'
};

// Configuration for the page feed
var config = {
  title: 'News from NYC Opportunity',
  profileImg: 'https://cdn-images-1.medium.com/fit/c/100/100/1*CqAMY6M5PeJ5nBOc8MKcvA.png',
  selector: '#js-feed',
  feed: [
    'https://medium.com/feed/nyc-opportunity/',
    'https://civicservicedesign.com/feed/'
  ]
};

/**
 * A self-selecting function for event listenters
 */
function selectEmbed() {
  this.select();
}

/**
 * Creates a self executing embeddable script using a custom configration
 * and source. Mirrors the self executing function below.
 * @param  {object}  config The configuration that will be passed to the function script
 * @param  {object}  source A dictionary of scripts to load, requires the cdn source of this script
 * @param  {boolean} focus  Wether or not to focus on the text field
 */
function createEmbed(config, source, focus) {
  focus = (typeof focus === 'undefined') ? false : focus;
  var clipboard = [
    "<script type='text/javascript'>",
    "(function(config, source, callback){",
      "var ss=source;var c=0;",
      "for(k in ss){",
        "var s=ss[k];",
        "if (k === 'styles') {",
          "ss[k] = document.createElement('link');",
          "ss[k].setAttribute('rel', 'stylesheet');",
          "ss[k].setAttribute('type', 'text/css');",
          "ss[k].setAttribute('media', 'screen');",
          "ss[k].setAttribute('href', s);",
        "} else {",
          "ss[k] = document.createElement('script');",
          "ss[k].setAttribute('type', 'text/javascript');",
          "ss[k].setAttribute('src', s);",
        "}",
        "document.head.appendChild(ss[k]);",
        "ss[k].onload=function(){",
          "c++;if(c===Object.keys(ss).length)init();",
        "}",
      "}",
      "function init(){",
        "var f=new Feed(config).init();",
        "if(callback)callback(f);",
      "};",
    "})({{ config }}, {{ source }});",
    "<\/script>"
  ];
  if (config.selector.indexOf('#') >= 0) {
    clipboard.unshift(
      "<div id='" + config.selector.replace('#','') + "'></div>"
    );
  }
  var embed = document.getElementById('js-embed');
  if (embed) {
    embed.addEventListener('focus', selectEmbed);
    embed.addEventListener('click', selectEmbed);
    embed.value = clipboard.join('')
      .replace('{{ config }}', JSON.stringify(config))
      .replace('{{ source }}', JSON.stringify(source));
    if (focus) {
      window.location.hash = 'your-feed';
      embed.focus();
    }
  }
} createEmbed(config, production);

/**
 * This is the initialization for the documentation functionality
 * @param  {object} feed Our demonstration feed.
 */
function init(feed) {
  var docs = new FeedDocs();
  // Documentation app
  if (document.getElementById('js-configuration')) {
    new Vue({
      el: '#js-configuration',
      data: {
        config: feed.default,
        docs: docs.default
      },
    });
  }

  // Custom Feed app
  if (document.getElementById('js-controls')) {
    new Vue({
      el: '#js-controls',
      data: {
        config: Object.assign(feed.default, config),
        docs: docs.default
      },
      methods: {
        render: function(event) {
          event.preventDefault();
          new Feed(Object.assign(config, this.config)).init();
          createEmbed(this.config, production, true);
        }
      }
    });
  }
}

// Self initiating function for the Feed script. This should mostly mirror
// the clipboard string in the createEmbed function above.
(function(config, source, callback) {
  var ss = source; var c = 0;
  for (k in ss) {
    var s = ss[k];
    if (k === 'styles') {
      ss[k] = document.createElement('link');
      ss[k].setAttribute('rel', 'stylesheet');
      ss[k].setAttribute('type', 'text/css');
      ss[k].setAttribute('media', 'screen');
      ss[k].setAttribute('href', s);
    } else {
      ss[k] = document.createElement('script');
      ss[k].setAttribute('type', 'text/javascript');
      ss[k].setAttribute('src', s);
    }
    document.head.appendChild(ss[k]);
    ss[k].onload = function() {
      c++; if (c === Object.keys(ss).length) init();
    }
  };
  function init() {
    var f = new Feed(config).init();
    if (callback) callback(f);
  };
})(config, demonstration, init);</script></body>